<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Go初識-day23-json數據協議 | Taroballz StudyNotes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="2018Golangjson">
  
  
  
  
  <meta name="description" content="Introduction 目前有８０％的ＡＰＩ支持json數據協議 json協議為一種資料傳輸的標準，不同語言之間溝通的橋樑 將golang中數據類型，如struct,map等，使用json序列化，與其他語言進行交互">
<meta name="keywords" content="2018,Golang,json">
<meta property="og:type" content="article">
<meta property="og:title" content="Go初識-day23-json數據協議">
<meta property="og:url" content="http://www.taroballz.com/2018/05/06/Go_json/index.html">
<meta property="og:site_name" content="Taroballz StudyNotes">
<meta property="og:description" content="Introduction 目前有８０％的ＡＰＩ支持json數據協議 json協議為一種資料傳輸的標準，不同語言之間溝通的橋樑 將golang中數據類型，如struct,map等，使用json序列化，與其他語言進行交互">
<meta property="og:locale" content="zh-tw">
<meta property="og:image" content="https://i.imgur.com/4ykWXfO.png">
<meta property="og:updated_time" content="2019-03-30T08:48:28.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Go初識-day23-json數據協議">
<meta name="twitter:description" content="Introduction 目前有８０％的ＡＰＩ支持json數據協議 json協議為一種資料傳輸的標準，不同語言之間溝通的橋樑 將golang中數據類型，如struct,map等，使用json序列化，與其他語言進行交互">
<meta name="twitter:image" content="https://i.imgur.com/4ykWXfO.png">
  
    <link rel="alternate" href="/atom.xml" title="Taroballz StudyNotes" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">
  <link rel="stylesheet" href="/css/fashion.css">
  <link rel="stylesheet" href="/css/glyphs.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>
</html>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="site-header-image">
    <img id="originBg" width="100%" alt="Hike News" src="">
  </div>

  <div id="header-blur" class="site-header-image blur" style="position: absolute; top:0; height: 207px; min-height: 207px; min-width: 100%;">
    <img id="blurBg" width="100%" style="top: 96%" alt="Hike News" src="">
  </div>

  <script>
        var imgUrls = "css/images/pose01.jpg,https://source.unsplash.com/collection/954550/1920x1080,https://source.unsplash.com/collection/954550/1920x1081".split(",");
        var random = Math.floor((Math.random() * imgUrls.length ));
        if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
          document.getElementById("originBg").src=imgUrls[random];
          document.getElementById("blurBg").src=imgUrls[random];
        } else {
          document.getElementById("originBg").src='/' + imgUrls[random];
          document.getElementById("blurBg").src='/' + imgUrls[random];
        }
    </script>




<header id="allheader" class="site-header" role="banner" 
   style="width: 100%; position: absolute; top:0; background: rgba(255,255,255,.8);"  >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" rel="home" >
                <img style="margin-bottom: 10px;"  width="436px" height="110px" alt="Hike News" src="https://i.imgur.com/9QmF6Bl.png">
              </a>
            
          </h1>
          
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/categories">Categories</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/tags">Tags</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/about">About</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-Go_json" style="width: 66%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="https://i.imgur.com/4ykWXfO.png" rel="gallery_ck4x0bhqq0053gdq79s6nm6dh">
        <img src="https://i.imgur.com/4ykWXfO.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      Go初識-day23-json數據協議
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/05/06/Go_json/" class="article-date">
	  <time datetime="2018-05-05T16:00:00.000Z" itemprop="datePublished">五月 6, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Golang/">Golang</a>
 
      
	<span id="busuanzi_container_page_pv">
	  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
	</span>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><ul>
<li>目前有８０％的ＡＰＩ支持json數據協議</li>
<li>json協議為一種資料傳輸的標準，不同語言之間溝通的橋樑</li>
<li>將golang中數據類型，如<code>struct</code>,<code>map</code>等，使用json序列化，與其他語言進行交互</li>
</ul>
<a id="more"></a>
<hr>
<h1 id="json數據協議"><a href="#json數據協議" class="headerlink" title="json數據協議"></a>json數據協議</h1><ul>
<li>導入包：<code>import &quot;encoding/json&quot;</code></li>
</ul>
<hr>
<h1 id="json序列化"><a href="#json序列化" class="headerlink" title="json序列化"></a>json序列化</h1><ul>
<li>序列化：<code>json.Marshal(data interface{})</code></li>
<li>打包成json字符串，參數可傳入各種不同的數據結構</li>
</ul>
<h2 id="json序列化結構體"><a href="#json序列化結構體" class="headerlink" title="json序列化結構體"></a>json序列化結構體</h2><ul>
<li><p>因為json為外部的package，因此欲被外部包訪問的情況下，在定義結構體時需注意字段名(屬性)<strong>須為大寫</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"encoding/json"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span>&#123;</span><br><span class="line">	UserName <span class="keyword">string</span></span><br><span class="line">	NickName <span class="keyword">string</span></span><br><span class="line">	Age <span class="keyword">int</span></span><br><span class="line">	Birth <span class="keyword">string</span></span><br><span class="line">	Gender <span class="keyword">string</span></span><br><span class="line">	Email <span class="keyword">string</span></span><br><span class="line">	Phone <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	Taroballz := &amp;User&#123;</span><br><span class="line">		UserName:<span class="string">"Curtis"</span>,</span><br><span class="line">		NickName:<span class="string">"Taroballz"</span>,</span><br><span class="line">		Age:<span class="number">18</span>,</span><br><span class="line">		Birth:<span class="string">"2000/12/12"</span>,</span><br><span class="line">		Gender:<span class="string">"Male"</span>,</span><br><span class="line">		Email:<span class="string">"study@golang.com"</span>,</span><br><span class="line">		Phone:<span class="string">"1001234567"</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	result, err := json.Marshal(Taroballz)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Fprintf(os.Stderr,<span class="string">"json encoding Failed:%s"</span>,err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">"json encoding result:"</span>,result)</span><br><span class="line">	fmt.Println(<span class="string">"json string is "</span>, <span class="keyword">string</span>(result))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>json打包的結果為<code>[]byte</code>類型，透過<code>string()</code>方法轉換為字符串</p>
</li>
</ul>
<h3 id="result"><a href="#result" class="headerlink" title="result"></a>result</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">json encoding result: [123 34 85 115 101 114 78 97 109 101 34 58 34 67 117 114 116 105 115 34 44 34 78 105 99 107 78 97 109 101 34 58 34 84 97 114 111 98 97 108 108 122 34 44 34 65 103 101 34 58 49 56 44 34 66 105 114 116 104 34 58 34 50 48 48 48 47 49 50 47 49 50 34 44 34 71 101 110 100 101 114 34 58 34 77 97 108 101 34 44 34 69 109 97 105 108 34 58 34 115 116 117 100 121 64 103 111 108 97 110 103 46 99 111 109 34 44 34 80 104 111 110 101 34 58 34 49 48 48 49 50 51 52 53 54 55 34 125]</span><br><span class="line">json string is &#123;&quot;UserName&quot;:&quot;Curtis&quot;,&quot;NickName&quot;:&quot;Taroballz&quot;,&quot;Age&quot;:18,&quot;Birth&quot;:&quot;2000/12/12&quot;,&quot;Gender&quot;:&quot;Male&quot;,&quot;Email&quot;:&quot;study@golang.com&quot;,&quot;Phone&quot;:&quot;1001234567&quot;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h3><p>可使用<code>json.MarshalIndent(欲格式化數據,空值替換,縮進替換)</code>進行格式化輸出<br>顯示結果會較清晰，但與Marshal方法無異<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result, err := json.MarshalIndent(Taroballz,<span class="string">""</span>,<span class="string">" "</span>)</span><br></pre></td></tr></table></figure></p>
<ul>
<li><strong>result</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">json string is &#123;</span><br><span class="line"> &quot;username&quot;: &quot;Curtis&quot;,</span><br><span class="line"> &quot;nickname&quot;: &quot;Taroballz&quot;,</span><br><span class="line"> &quot;Age&quot;: 18,</span><br><span class="line"> &quot;Birth&quot;: &quot;2000/12/12&quot;,</span><br><span class="line"> &quot;Gender&quot;: &quot;Male&quot;,</span><br><span class="line"> &quot;Email&quot;: &quot;study@golang.com&quot;,</span><br><span class="line"> &quot;Phone&quot;: &quot;1001234567&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h2 id="tag"><a href="#tag" class="headerlink" title="tag"></a>tag</h2><ul>
<li>透過反射(reflect)的tag將字段從大寫轉為小寫</li>
<li>格式為<code>json:&quot;value&quot;</code></li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"encoding/json"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span>&#123;</span><br><span class="line">	UserName <span class="keyword">string</span>   <span class="string">`json:"username"`</span></span><br><span class="line">	NickName <span class="keyword">string</span>   <span class="string">`json:"nickname"`</span></span><br><span class="line">	Age <span class="keyword">int</span></span><br><span class="line">	Birth <span class="keyword">string</span></span><br><span class="line">	Gender <span class="keyword">string</span></span><br><span class="line">	Email <span class="keyword">string</span></span><br><span class="line">	Phone <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	Taroballz := &amp;User&#123;</span><br><span class="line">		UserName:<span class="string">"Curtis"</span>,</span><br><span class="line">		NickName:<span class="string">"Taroballz"</span>,</span><br><span class="line">		Age:<span class="number">18</span>,</span><br><span class="line">		Birth:<span class="string">"2000/12/12"</span>,</span><br><span class="line">		Gender:<span class="string">"Male"</span>,</span><br><span class="line">		Email:<span class="string">"study@golang.com"</span>,</span><br><span class="line">		Phone:<span class="string">"1001234567"</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	result, err := json.Marshal(Taroballz)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Fprintf(os.Stderr,<span class="string">"json encoding Failed:%s"</span>,err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">"json string is "</span>, <span class="keyword">string</span>(result))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="result-1"><a href="#result-1" class="headerlink" title="result"></a>result</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json string is &#123;&quot;username&quot;:&quot;Curtis&quot;,&quot;nickname&quot;:&quot;Taroballz&quot;,&quot;Age&quot;:18,&quot;Birth&quot;:&quot;2000/12/12&quot;,&quot;Gender&quot;:&quot;Male&quot;,&quot;Email&quot;:&quot;study@golang.com&quot;,&quot;Phone&quot;:&quot;1001234567&quot;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>透過tag可將原本需大寫的字段名在json的格式中轉為小寫</li>
</ul>
<h3 id="tips-1"><a href="#tips-1" class="headerlink" title="tips"></a>tips</h3><ul>
<li>若是編碼後的json不想輸出至終端可使用<code>json:&quot;-&quot;</code>作為tag</li>
<li>若是bool類型的true,false;float及int類型的數字要使用字符串作為json輸出可使用<code>json:&quot;,string&quot;</code>作為tag</li>
</ul>
<hr>
<h2 id="json序列化map"><a href="#json序列化map" class="headerlink" title="json序列化map"></a>json序列化map</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"encoding/json"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testJsonMap</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> Tom <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125; = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">"Age"</span>:<span class="number">18</span>&#125;</span><br><span class="line">	Tom[<span class="string">"Name"</span>] = <span class="string">"Tom"</span></span><br><span class="line">	Tom[<span class="string">"gender"</span>] = <span class="string">"Male"</span></span><br><span class="line">	data,err := json.Marshal(Tom)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Fprintln(os.Stderr,<span class="string">"json encoding failed:"</span>,err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">"json encoding result:"</span>,<span class="keyword">string</span>(data))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	testJsonMap()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="result-2"><a href="#result-2" class="headerlink" title="result"></a>result</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json encoding result: &#123;&quot;Age&quot;:18,&quot;Name&quot;:&quot;Tom&quot;,&quot;gender&quot;:&quot;Male&quot;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="json序列化切片-slice"><a href="#json序列化切片-slice" class="headerlink" title="json序列化切片(slice)"></a>json序列化切片(slice)</h2><ul>
<li>使用json序列化一個map類型的切片</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"encoding/json"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testJsonSlice</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> userinfo []<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">	userinfo = <span class="built_in">make</span>([]<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;,<span class="number">0</span>)</span><br><span class="line">	userinfo = <span class="built_in">append</span>(userinfo,<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">"Name"</span>:<span class="string">"Amy"</span>&#125;)</span><br><span class="line">	userinfo[<span class="number">0</span>][<span class="string">"Age"</span>] = <span class="number">18</span></span><br><span class="line">	fmt.Println(<span class="built_in">cap</span>(userinfo))</span><br><span class="line">	</span><br><span class="line">	userinfo = <span class="built_in">append</span>(userinfo,<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">"Name"</span>:<span class="string">"Tom"</span>&#125;)</span><br><span class="line">	data, err := json.Marshal(userinfo)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Fprintln(os.Stderr,<span class="string">"json encoding failed:"</span>,err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">"json encoding result:"</span>,<span class="keyword">string</span>(data))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	testJsonSlice()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="result-3"><a href="#result-3" class="headerlink" title="result"></a>result</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">json encoding result: [&#123;&quot;Age&quot;:18,&quot;Name&quot;:&quot;Amy&quot;&#125;,&#123;&quot;Name&quot;:&quot;Tom&quot;&#125;]</span><br></pre></td></tr></table></figure>
<ul>
<li>可以看到slice的數據化類型為<code>[ ]</code>陣列形式</li>
</ul>
<h1 id="json反序列化"><a href="#json反序列化" class="headerlink" title="json反序列化"></a>json反序列化</h1><p>在別人系統或是不同語言中拿到json的數據類型並反序列化成golang中的數據類型，並進行其他操作</p>
<ul>
<li>反序列化：<code>json.UnMarshal(data []byte, v interface{})</code></li>
<li>將json字符串反序列化成golang的數據類型</li>
<li><code>data</code>為要反序列化的json字符串</li>
<li><code>v</code>為不同數據類型的實例</li>
</ul>
<h2 id="反序列化結構體"><a href="#反序列化結構體" class="headerlink" title="反序列化結構體"></a>反序列化結構體</h2><ul>
<li>在反序列化之前要保證反序列化的<strong>類型</strong>及<strong>字段</strong>跟欲接收的容器是一樣的</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"encoding/json"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span>&#123;</span><br><span class="line">	UserName <span class="keyword">string</span>   <span class="string">`json:"username"`</span></span><br><span class="line">	NickName <span class="keyword">string</span>   <span class="string">`json:"nickname"`</span></span><br><span class="line">	Age <span class="keyword">int</span></span><br><span class="line">	Birth <span class="keyword">string</span></span><br><span class="line">	Gender <span class="keyword">string</span></span><br><span class="line">	Email <span class="keyword">string</span></span><br><span class="line">	Phone <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testStruct</span><span class="params">()</span><span class="params">(Error error, user <span class="keyword">string</span>)</span></span>&#123;</span><br><span class="line">	Taroballz := &amp;User&#123;</span><br><span class="line">		UserName:<span class="string">"Curtis"</span>,</span><br><span class="line">		NickName:<span class="string">"Taroballz"</span>,</span><br><span class="line">		Age:<span class="number">18</span>,</span><br><span class="line">		Birth:<span class="string">"2000/12/12"</span>,</span><br><span class="line">		Gender:<span class="string">"Male"</span>,</span><br><span class="line">		Email:<span class="string">"study@golang.com"</span>,</span><br><span class="line">		Phone:<span class="string">"1001234567"</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	result, err := json.Marshal(Taroballz)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		Error = fmt.Errorf(<span class="string">"json encoding Failed:%s"</span>,err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	user = <span class="keyword">string</span>(result)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testUnMarshallStruct</span><span class="params">(data <span class="keyword">string</span>)</span><span class="params">(ret User, err error)</span></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> container User</span><br><span class="line">	err = json.Unmarshal([]<span class="keyword">byte</span>(data),&amp;container)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		err = fmt.Errorf(<span class="string">"UnMarshal Failed"</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	ret = container</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	err,data  := testStruct()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	result ,err := testUnMarshallStruct(data)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">"result is"</span>,result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="result-4"><a href="#result-4" class="headerlink" title="result"></a>result</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Result is : &#123;Curtis Taroballz 18 2000/12/12 Male study@golang.com 1001234567&#125;</span><br></pre></td></tr></table></figure>
<h3 id="tips-2"><a href="#tips-2" class="headerlink" title="tips"></a>tips</h3><ul>
<li>UnMarshall只會解析所需要的字段置入結構體中</li>
</ul>
<h2 id="反序列化map"><a href="#反序列化map" class="headerlink" title="反序列化map"></a>反序列化map</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"encoding/json"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testJsonMap</span><span class="params">()</span><span class="params">(ret <span class="keyword">string</span>, error error)</span></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> Tom <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125; = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">"Age"</span>:<span class="number">18</span>&#125;</span><br><span class="line">	Tom[<span class="string">"Name"</span>] = <span class="string">"Tom"</span></span><br><span class="line">	Tom[<span class="string">"gender"</span>] = <span class="string">"Male"</span></span><br><span class="line">	data,err := json.Marshal(Tom)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		error = fmt.Errorf(<span class="string">"json encoding failed"</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	ret = <span class="keyword">string</span>(data)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testUnMarshalMap</span><span class="params">(data <span class="keyword">string</span>)</span><span class="params">(ret <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;,error error)</span></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> container <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">	err := json.Unmarshal([]<span class="keyword">byte</span>(data),&amp;container)    <span class="comment">//即使map為引用類型 仍需對map取址</span></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</span><br><span class="line">		error = fmt.Errorf(<span class="string">"Unmarshal failed:"</span>,err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	ret = container</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	data,err := testJsonMap()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	result ,err := testUnMarshalMap(data)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">"result is"</span>,result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>可以看到在創建接收map類型的變量時，並沒有使用<code>make()</code>初始化map，亦就是說map在<code>json.unmarshal()</code>函數中才分配，只需將對應類型的變量傳入就好</li>
<li>往map中插入數據時，才會因為map是<strong>引用類型</strong>無須取址，但是<strong>改變map本身所儲存的資料</strong>則需取址</li>
</ul>
<h3 id="result-5"><a href="#result-5" class="headerlink" title="result"></a>result</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result is map[Name:Tom gender:Male Age:18]</span><br></pre></td></tr></table></figure>
<h1 id="tips-3"><a href="#tips-3" class="headerlink" title="tips"></a>tips</h1><ul>
<li>在json數據的量比較大的情況下，標準庫<code>encoding/json</code>會不敷使用</li>
<li>這時可以使用ffjson進行序列化及反序列化<ul>
<li><code>go get github.com/pquerna/ffjson/ffjson</code></li>
<li>其使用方法與<code>encoding/json</code>使用方法差不多</li>
<li>其速度為<code>encoding/json</code>的3到4倍</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Golang/">Golang</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/2018/">2018</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Golang/">Golang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/json/">json</a></li></ul>

      
        
	<section id="comments" class="comment">
	  <div id="disqus_thread">
	  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	  </div>
	</section>

	<script type="text/javascript">
	var disqus_shortname = 'Taroballz';
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	</script>



      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/05/08/Go_Error/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Go初識-day24-錯誤處理
        
      </div>
    </a>
  
  
    <a href="/2018/05/02/Go_Args/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Golang物件導向初識-day22-命令行參數</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">Contents</strong>
    
      <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#json數據協議"><span class="nav-number">2.</span> <span class="nav-text">json數據協議</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#json序列化"><span class="nav-number">3.</span> <span class="nav-text">json序列化</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#json序列化結構體"><span class="nav-number">3.1.</span> <span class="nav-text">json序列化結構體</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#result"><span class="nav-number">3.1.1.</span> <span class="nav-text">result</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tips"><span class="nav-number">3.1.2.</span> <span class="nav-text">tips</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tag"><span class="nav-number">3.2.</span> <span class="nav-text">tag</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#result-1"><span class="nav-number">3.2.1.</span> <span class="nav-text">result</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tips-1"><span class="nav-number">3.2.2.</span> <span class="nav-text">tips</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#json序列化map"><span class="nav-number">3.3.</span> <span class="nav-text">json序列化map</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#result-2"><span class="nav-number">3.3.1.</span> <span class="nav-text">result</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#json序列化切片-slice"><span class="nav-number">3.4.</span> <span class="nav-text">json序列化切片(slice)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#result-3"><span class="nav-number">3.4.1.</span> <span class="nav-text">result</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#json反序列化"><span class="nav-number">4.</span> <span class="nav-text">json反序列化</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#反序列化結構體"><span class="nav-number">4.1.</span> <span class="nav-text">反序列化結構體</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#result-4"><span class="nav-number">4.1.1.</span> <span class="nav-text">result</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tips-2"><span class="nav-number">4.1.2.</span> <span class="nav-text">tips</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#反序列化map"><span class="nav-number">4.2.</span> <span class="nav-text">反序列化map</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#result-5"><span class="nav-number">4.2.1.</span> <span class="nav-text">result</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#tips-3"><span class="nav-number">5.</span> <span class="nav-text">tips</span></a></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2020 Taroballz StudyNotes All Rights Reserved.
        
            <span id="busuanzi_container_site_uv">
              本站访客数<span id="busuanzi_value_site_uv"></span>人次  
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hipaper" target="_blank">hipaper</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
      var headerblur = document.getElementById("header-blur");
      headerblur.style.minHeight = window.getComputedStyle(document.getElementById("allheader"), null).height;
    
    
</script>
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/bootstrap.js"></script>
<script src="/js/main.js"></script>







  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
